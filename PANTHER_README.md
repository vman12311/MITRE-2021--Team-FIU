# A Walkthrough of the FIU Panthers eCTF Submission

# Encryption
We rely of AES CBC encryption for our secure communications between devices. The key is generated at compile and distributed to devices upon registration with the SSS.

The initialization vector is randomized before encrypting every message. Messages are padded to fit 16 byte block length.

# Hashing
For authentication of the messages, we are using a SHA256 hashing algorythm. That key is also generated by the SSS at compile and distributed upon registration. The key used for direct transmissions is modified using the ID of the target SED so that no other SED could authenticate the message.

# Authenitcation
For direct transmission and broadcasts, the message is appeneded with a unique SED registration number along with a message counter so that each message generates a completely unique ciphertext and HMAC.

To prevent replay attacks, the SEDs store an array of previously recieved MACs and check new messages against that collection, discarding repeated messages.

# Pre-Provisioning
A unique deployment-wide passcode along with an SED specific registration number is generated during the build process. An SED can only register with the SSS after the SSS has checked if those secrets match the numbers on file. When an SED is removed for the deployment, the SSS removes the SED specific registration number so that it will no longer be able to register and recieve the encryption keys.

# Defense in depth
The size of the buffer is evaluated before a transmission or broadcast is sent or recieved. If the message is too long, the message is reduced in length or discarded.

# Credits
The library used for the encryption and hashing is the TinyCrypt library, an open source project supported by Intel.

# Paws Up
Good luck hacking!




# 2021 MITRE eCTF Challenge: Secure Common Embedded Wireless Link (SCEWL)
This repository contains an example reference system for MITRE's 2021 Embedded 
System CTF (eCTF). This code is incomplete, insecure, and does not meet MITRE
standards for quality. This code is being provided for educational purposes to
serve as a simple example that meets the minimum functional requirements for
the 2021 eCTF. Use this code at your own risk!

## Getting Started
Please see the [Getting Started Guide](getting_started.md).

Also see the distributed walkthrough slides for a guide to working with and
running this code.

## Project Structure
The example code is structured as follows

* `controller/` - Contains everything to build the SCEWL Bus Controller. See [Controller README](controller/README.md)
* `cpu/` - Contains everything to build the user code of the CPU. See [CPU README](cpu/README.md)
* `dockerfiles/` - Contains all Dockerfiles to build system
* `radio/` - Contains the Radio Waves Emulator
* `socks/` - Directory to hold sockets for the network backend
* `tools/` - Miscellaneous tools to run and interract with deployments
* `Makefile` - Root Makefile to build deployments
